<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIALO | Agent Economy Certification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/canvas-confetti/1.6.0/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root { --rialo-blue: #3b82f6; }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: radial-gradient(circle at top right, #0a1120, #000000);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .glass-panel {
            background: rgba(10, 10, 15, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* STRICT COLUMN LAYOUT */
        .options-column {
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 100%;
        }

        .option-btn {
            width: 100%;
            padding: 18px 24px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            text-align: left;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
        }

        .option-btn:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--rialo-blue);
            transform: translateX(4px);
        }

        .option-btn.selected {
            background: var(--rialo-blue);
            border-color: var(--rialo-blue);
            color: white;
            font-weight: 600;
        }

        #certificate {
            background: #ffffff;
            color: #000000;
            width: 800px;
            height: 580px;
            padding: 50px;
            border: 15px solid #000;
            border-image: linear-gradient(45deg, #1d4ed8, #000, #3b82f6) 1;
            position: relative;
            background-image: url("https://www.transparenttextures.com/patterns/cubes.png");
        }

        .hidden { display: none !important; }

        @media print {
            body * { visibility: hidden; }
            #certificate, #certificate * { visibility: visible; }
            #certificate { position: absolute; left: 0; top: 0; }
        }
    </style>
</head>
<body class="p-4">

    <!-- 1. LOGIN SCREEN -->
    <div id="login-screen" class="max-w-md w-full glass-panel p-10 rounded-[2.5rem] text-center">
        <div class="mb-8 relative inline-block">
            <img id="live-preview" src="https://ui-avatars.com/api/?name=R&background=1e293b&color=fff" 
                class="w-24 h-24 rounded-3xl border-2 border-blue-500 p-1 object-cover bg-zinc-900 transition-all duration-500">
            <div class="absolute -bottom-2 -right-2 bg-blue-600 rounded-full p-1.5 border-4 border-black">
                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
            </div>
        </div>
        
        <h1 class="text-4xl font-black italic tracking-tighter mb-2 text-white">RIALO</h1>
        <p class="text-blue-500 text-[10px] font-bold uppercase tracking-[0.3em] mb-10">Agent Economy Academy</p>
        
        <div class="space-y-6">
            <div class="text-left">
                <label class="text-[10px] font-bold text-zinc-500 ml-1 mb-2 block uppercase tracking-widest">Twitter Handle</label>
                <input type="text" id="twitter-input" 
                    oninput="syncPreview(this.value)"
                    class="w-full bg-black/50 border border-zinc-800 rounded-2xl py-4 px-6 text-white focus:outline-none focus:border-blue-500 transition-all" 
                    placeholder="@Username">
            </div>
            <button onclick="startQuiz()" class="w-full bg-blue-600 py-4 rounded-2xl font-bold text-lg hover:bg-blue-500 shadow-xl shadow-blue-900/20 transition-all">
                Start Assessment
            </button>
        </div>
    </div>

    <!-- 2. QUIZ SCREEN -->
    <div id="quiz-screen" class="hidden max-w-2xl w-full glass-panel p-8 md:p-12 rounded-[2.5rem]">
        <div class="flex items-center justify-between mb-10">
            <div class="flex items-center gap-4">
                <img id="quiz-avatar" src="" class="w-12 h-12 rounded-xl border border-blue-500/50">
                <div>
                    <h3 id="quiz-handle" class="text-white font-bold text-sm"></h3>
                    <p id="progress-text" class="text-blue-500 font-bold text-[10px] uppercase tracking-widest">Question 01/10</p>
                </div>
            </div>
            <div class="w-24 h-1.5 bg-zinc-800 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full bg-blue-500 transition-all duration-500" style="width: 10%"></div>
            </div>
        </div>
        
        <div id="question-box">
            <h2 id="question-text" class="text-2xl font-bold mb-8 leading-tight"></h2>
            <div id="options-column" class="options-column">
                <!-- Buttons Injected Here -->
            </div>
        </div>

        <button id="next-btn" onclick="goToNext()" class="mt-10 w-full py-4 bg-zinc-800 rounded-2xl font-bold text-zinc-500 cursor-not-allowed transition-all" disabled>
            Select an answer
        </button>
    </div>

    <!-- 3. FAIL SCREEN -->
    <div id="fail-screen" class="hidden max-w-md w-full glass-panel p-12 rounded-[3rem] text-center">
        <div class="text-6xl mb-6">‚ùå</div>
        <h2 class="text-3xl font-bold mb-2">Assessment Failed</h2>
        <p id="fail-score" class="text-zinc-400 mb-8">Score: 0/10. (8/10 required)</p>
        <button onclick="location.reload()" class="w-full bg-white text-black py-4 rounded-2xl font-bold hover:bg-zinc-200 transition-all">Try Again</button>
    </div>

    <!-- 4. CERTIFICATE SCREEN -->
    <div id="cert-screen" class="hidden flex flex-col items-center animate-fade-in">
        <div id="certificate" class="shadow-2xl mb-10">
            <div class="flex justify-between items-start">
                <div>
                    <h1 class="text-6xl font-black italic tracking-tighter text-blue-600 leading-none">RIALO</h1>
                    <p class="text-xs tracking-[.4em] font-bold text-zinc-400 mt-2 uppercase">Official Protocol Certificate</p>
                </div>
                <img id="cert-avatar" class="w-32 h-32 rounded-3xl border-4 border-white shadow-2xl bg-zinc-100 object-cover" src="">
            </div>

            <div class="text-center mt-12">
                <p class="text-zinc-500 italic text-xl mb-2">This is to certify that</p>
                <h2 id="cert-name" class="text-6xl font-extrabold text-black mb-8 tracking-tight">@Username</h2>
                <div class="h-1.5 w-32 bg-blue-600 mx-auto mb-10"></div>
                <p class="text-xl text-zinc-700 max-w-xl mx-auto leading-relaxed">
                    Has successfully mastered the <b>Rialo Agent Economy</b> curriculum, demonstrating proficiency in <b>Programmable Assets</b> and <b>Safe Real-World Interaction</b>.
                </p>
            </div>

            <div class="absolute bottom-12 left-12 flex flex-col">
                <span class="text-[10px] font-bold text-zinc-400 uppercase">License ID</span>
                <span class="font-mono text-xs font-bold">RLO-CERT-2026-XP</span>
            </div>
            
            <div class="absolute bottom-12 right-12 text-right">
                <p class="text-[10px] font-bold text-zinc-400 uppercase mb-1">Authenticated On</p>
                <p id="cert-date" class="font-bold text-black text-sm"></p>
            </div>
        </div>
        <button onclick="window.print()" class="bg-blue-600 px-12 py-4 rounded-2xl font-bold text-white shadow-2xl hover:bg-blue-500 transition-all">Download / Print PDF</button>
    </div>

    <script>
        const questionBank = [
            { q: "Rialo is designed to make the agent economy more...", options: ["Chaotic", "Speculative", "Simple and safe", "Exclusive", "Manual"], correct: 2 },
            { q: "Rialo primarily exists to support the...", options: ["Creator economy", "Gaming economy", "Agent economy", "Attention economy", "Ad economy"], correct: 2 },
            { q: "Rialo helps agents safely interact with...", options: ["Social feeds", "Real-world markets", "Chat platforms", "Video games", "Forums"], correct: 1 },
            { q: "Rialo focuses on making assets...", options: ["Speculative", "Static", "Programmable", "Invisible", "Temporary"], correct: 2 },
            { q: "Markets are traditionally difficult for agents because they are...", options: ["Agent-friendly", "Human-centric", "Open-source", "Automated", "Decentralized"], correct: 1 },
            { q: "Rialo allows agents to safely manage...", options: ["Media", "Opinions", "Economic value", "Messages", "Profiles"], correct: 2 },
            { q: "Rialo is best described as a...", options: ["Wallet", "Layer 1 blockchain", "Real-world blockchain", "Exchange", "DAO"], correct: 2 },
            { q: "Rialo is built for apps that react to...", options: ["Static files", "Manual input", "Live data", "Archived records", "Paper logs"], correct: 2 },
            { q: "Rialo emphasizes safety through...", options: ["Human trust", "Programmatic guarantees", "Social consensus", "Manual review", "Reputation"], correct: 1 },
            { q: "Rialo enables automation that feels like...", options: ["Bots", "Scripts", "Modern software", "Spreadsheets", "Manual workflows"], correct: 2 },
            { q: "Rialo treats real-world assets as...", options: ["Speculation", "Programmable entities", "Locked balances", "Game items", "Memes"], correct: 1 },
            { q: "Rialo removes unnecessary...", options: ["Transparency", "Automation", "Risk", "Rules", "Ownership"], correct: 2 },
            { q: "Rialo connects agents directly to...", options: ["Games", "Economic systems", "Social networks", "Ad platforms", "Media sites"], correct: 1 },
            { q: "Rialo enables actions that are...", options: ["Hidden", "Implicit", "Explicit and verifiable", "Anonymous", "Manual"], correct: 2 },
            { q: "Rialo is optimized for developers building...", options: ["Static websites", "Agent-driven apps", "Games only", "NFT art", "Social tools"], correct: 1 },
            { q: "Rialo is not primarily focused on...", options: ["Real utility", "Agents", "Speculation", "Safety", "Infrastructure"], correct: 2 },
            { q: "Rialo allows agents to perform work that is...", options: ["Unverifiable", "Speculative", "Real and provable", "Hidden", "Temporary"], correct: 2 },
            { q: "Rialo assumes agents need access that is...", options: ["Unlimited", "Unsafe", "Safe by default", "Anonymous only", "Centralized"], correct: 2 },
            { q: "Rialo bridges the gap between agents and...", options: ["Entertainment", "Speculation", "Real-world systems", "Social feeds", "Ads"], correct: 2 },
            { q: "Rialo prioritizes utility over...", options: ["Security", "Infrastructure", "Hype", "Developers", "Automation"], correct: 2 },
            { q: "Rialo enables coordination that is...", options: ["Trust-based", "Manual", "Programmatic", "Social", "Centralized"], correct: 2 },
            { q: "Rialo helps agents act with power that is...", options: ["Unlimited", "Ungoverned", "Bounded", "Invisible", "Speculative"], correct: 2 },
            { q: "Rialo is built for agents doing...", options: ["Imaginary work", "Speculation", "Real work", "Gaming", "Posting"], correct: 2 },
            { q: "Rialo systems are designed to be...", options: ["Opaque", "Implicit", "Explicit", "Hidden", "Ambiguous"], correct: 2 },
            { q: "Rialo allows assets to reflect...", options: ["Memes", "Real-world state", "Social trends", "Hype", "Speculation"], correct: 1 },
            { q: "Rialo makes agent participation more...", options: ["Chaotic", "Predictable", "Risky", "Unregulated", "Speculative"], correct: 1 },
            { q: "Rialo reduces reliance on...", options: ["Code", "Infrastructure", "Human trust", "Automation", "Data"], correct: 2 },
            { q: "Rialo is built for scale through...", options: ["Moderators", "Agent growth", "Manual approvals", "Central servers", "Social feeds"], correct: 1 },
            { q: "Rialo enables economic actions that are...", options: ["Guess-based", "Untracked", "Verifiable", "Hidden", "Manual"], correct: 2 },
            { q: "Rialo supports agents operating in...", options: ["Closed systems", "Real economies", "Games only", "Forums", "Chats"], correct: 1 },
            { q: "Rialo focuses on safety at the...", options: ["UI level", "Economic layer", "Social layer", "Marketing layer", "Speculative layer"], correct: 1 },
            { q: "Rialo makes automation feel...", options: ["Risky", "Manual", "Software-like", "Speculative", "Hidden"], correct: 2 },
            { q: "Rialo is designed for long-term...", options: ["Hype cycles", "Economic infrastructure", "Token pumps", "Social trends", "Speculation"], correct: 1 },
            { q: "Rialo helps agents avoid...", options: ["Code", "Ownership", "Unbounded risk", "Automation", "Transparency"], correct: 2 },
            { q: "Rialo enables agents to act...", options: ["Blindly", "Safely", "Randomly", "Speculatively", "Manually"], correct: 1 },
            { q: "Rialo is focused on real...", options: ["Memes", "Utility", "Hype", "Trends", "Speculation"], correct: 1 },
            { q: "Rialo is infrastructure for the...", options: ["Creator wave", "Agent economy", "Ad economy", "Gaming boom", "NFT cycle"], correct: 1 },
            { q: "Rialo enables programmable...", options: ["Trust", "Assets", "Opinions", "Trends", "Narratives"], correct: 1 },
            { q: "Rialo allows agents to coordinate...", options: ["Socially", "Programmatically", "Manually", "Centrally", "Implicitly"], correct: 1 },
            { q: "Rialo is built for agents operating...", options: ["Offline", "In real systems", "In games", "On forums", "In chats"], correct: 1 }
        ];

        // Ensure bank reaches 100 with logical variations
        while(questionBank.length < 100) {
            let base = questionBank[questionBank.length % 40];
            questionBank.push({...base, q: base.q + " (Review)"});
        }

        let raffle = [];
        let answers = [];
        let index = 0;
        let username = "";

        function syncPreview(val) {
            const clean = val.replace('@', '').trim();
            const url = clean ? `https://unavatar.io/twitter/${clean}?fallback=https://ui-avatars.com/api/?name=${clean}&background=3b82f6&color=fff` : "https://ui-avatars.com/api/?name=R&background=1e293b&color=fff";
            document.getElementById('live-preview').src = url;
        }

        function startQuiz() {
            username = document.getElementById('twitter-input').value.trim();
            if(!username) return alert("Enter your X handle");
            if(username.startsWith('@')) username = username.substring(1);

            raffle = [...questionBank].sort(() => 0.5 - Math.random()).slice(0, 10);
            
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            document.getElementById('quiz-handle').innerText = `@${username}`;
            document.getElementById('quiz-avatar').src = document.getElementById('live-preview').src;
            
            render();
        }

        function render() {
            const q = raffle[index];
            const col = document.getElementById('options-column');
            const next = document.getElementById('next-btn');
            
            document.getElementById('progress-text').innerText = `Question ${index+1}/10`;
            document.getElementById('progress-bar').style.width = `${(index+1)*10}%`;
            document.getElementById('question-text').innerText = q.q;
            
            col.innerHTML = '';
            next.disabled = true;
            next.classList.replace('bg-blue-600', 'bg-zinc-800');

            q.options.forEach((opt, i) => {
                const b = document.createElement('button');
                b.className = "option-btn";
                b.innerHTML = `<span class="w-8 h-8 rounded-lg bg-zinc-800 flex items-center justify-center mr-4 text-[10px] font-bold">${String.fromCharCode(65+i)}</span> ${opt}`;
                b.onclick = () => {
                    document.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('selected'));
                    b.classList.add('selected');
                    answers[index] = i;
                    next.disabled = false;
                    next.classList.replace('bg-zinc-800', 'bg-blue-600');
                    next.classList.replace('text-zinc-500', 'text-white');
                    next.innerText = index === 9 ? "Finish Assessment" : "Next Question";
                };
                col.appendChild(b);
            });
        }

        function goToNext() {
            if(index < 9) {
                index++;
                render();
            } else {
                let score = 0;
                raffle.forEach((q, i) => { if(answers[i] === q.correct) score++; });
                
                document.getElementById('quiz-screen').classList.add('hidden');
                if(score >= 8) {
                    showCert();
                } else {
                    document.getElementById('fail-screen').classList.remove('hidden');
                    document.getElementById('fail-score').innerText = `Your Score: ${score}/10. (Needs 8/10 to pass)`;
                }
            }
        }

        function showCert() {
            document.getElementById('cert-screen').classList.remove('hidden');
            document.getElementById('cert-name').innerText = `@${username}`;
            document.getElementById('cert-avatar').src = document.getElementById('live-preview').src;
            document.getElementById('cert-date').innerText = new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
            confetti({ particleCount: 200, spread: 70, origin: { y: 0.6 } });
        }
    </script>
</body>
</html>